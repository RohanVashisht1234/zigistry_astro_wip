---
import RootLayout from "../layouts/main.astro";
import ProgramsComponent from "../components/programs";
import bergdb from "../../database/codebergPrograms.json";
import maindb from "../../database/programs.json";

const items = [...bergdb, ...maindb];

const mostUsed = items.slice(0, 10);
const sortedRepos = items
  .slice()
  .sort(
    (a, b) =>
      new Date(b.created_at).getTime() - new Date(a.created_at).getTime()
  );
const top10LatestRepos = sortedRepos.slice(0, 10);
---

<RootLayout>
  <div>
    <ProgramsComponent mostUsed={mostUsed} top10LatestRepos={top10LatestRepos} client:only />
  </div>
</RootLayout>
